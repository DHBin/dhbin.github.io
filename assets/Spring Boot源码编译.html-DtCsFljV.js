import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,b as a,o as n}from"./app-CqnfWZLp.js";const t={};function r(l,i){return n(),e("div",null,i[0]||(i[0]=[a(`<h1 id="spring-boot源码编译" tabindex="-1"><a class="header-anchor" href="#spring-boot源码编译"><span>Spring Boot源码编译</span></a></h1><p>Spring Boot源码编译</p><h1 id="fork-spring-boot-可选" tabindex="-1"><a class="header-anchor" href="#fork-spring-boot-可选"><span>fork spring boot[可选]</span></a></h1><p>我fork一个Spring boot到自己的github上，主要是为了把阅读源码时添加的一些注释push上去，所以这一步是可选的。</p><h1 id="clone-spring-boot" tabindex="-1"><a class="header-anchor" href="#clone-spring-boot"><span>clone spring boot</span></a></h1><p>1、把Spring boot源码克隆下来</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://github.com/DHBin/spring-boot.git</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>官方地址是https://github.com/spring-projects/spring-boot</p><p>2、同步2.1.x分支</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2.1.x</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> origin/2.1.x</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>为了不污染原来的版本，创建新的分支</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2.1.x_learn</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>上传GitHub</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> push</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> origin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> HEAD</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>期间可能需要登录GitHub账号，出现一下信息证明分支创建成功</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>Total 0 (delta 0), reused 0 (delta 0)</span></span>
<span class="line"><span>remote:</span></span>
<span class="line"><span>remote: Create a pull request for &#39;2.1.x_learn&#39; on GitHub by visiting:</span></span>
<span class="line"><span>remote:      https://github.com/DHBin/spring-boot/pull/new/2.1.x_learn</span></span>
<span class="line"><span>remote:</span></span>
<span class="line"><span>To https://github.com/DHBin/spring-boot.git</span></span>
<span class="line"><span> * [new branch]            HEAD -&gt; 2.1.x_learn</span></span>
<span class="line"><span>Branch &#39;2.1.x_learn&#39; set up to track remote branch &#39;2.1.x_learn&#39; from &#39;origin&#39;.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="编译" tabindex="-1"><a class="header-anchor" href="#编译"><span>编译</span></a></h1><p>前期准备</p><ul><li>下载maven并配置好环境，切换国内源</li></ul><p>执行命令</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mvn</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Dmaven.test.skip=true</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Dmaven.compile.fork=true</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Dmaven.test.failure.ignore=true</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clean</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-Dmaven.test.skip=true 跳过测试</li><li>-Dmaven.compile.fork 多线程</li><li>-Dmaven.test.failure.ignore 忽略测试错误</li></ul><p>如果没有意外编译就成功了</p><h1 id="遇到问题" tabindex="-1"><a class="header-anchor" href="#遇到问题"><span>遇到问题</span></a></h1><ol><li><p>编译spring-boot-gradle-plugin时执行一些测试用例，导致报错。</p><p>解决方法：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rm</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -rf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> spring-boot-project/spring-boot-tools/spring-boot-gradle-plugin/src/test/java</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>再编译，编译成功后执行</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checkout</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> spring-boot-project/spring-boot-tools/spring-boot-gradle-plugin/src/test/java</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>恢复</p></li></ol><h1 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h1><p><a href="https://my.oschina.net/dabird/blog/1942112" target="_blank" rel="noopener noreferrer">IDEA 编译运行 Spring Boot 2.0 源码</a></p>`,27)]))}const o=s(t,[["render",r]]),d=JSON.parse('{"path":"/tech/java/spring/Spring%20Boot%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91.html","title":"Spring Boot源码编译","lang":"zh-CN","frontmatter":{"date":"2019-01-09T13:31:00.000Z","category":["Java"],"tag":["Spring","源码"],"description":"Spring Boot源码编译 Spring Boot源码编译 fork spring boot[可选] 我fork一个Spring boot到自己的github上，主要是为了把阅读源码时添加的一些注释push上去，所以这一步是可选的。 clone spring boot 1、把Spring boot源码克隆下来 官方地址是https://github...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Spring Boot源码编译\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2019-01-09T13:31:00.000Z\\",\\"dateModified\\":\\"2023-03-22T17:33:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"DHB\\",\\"url\\":\\"https://dhbin.cn\\"}]}"],["meta",{"property":"og:url","content":"https://dhbin.cn/tech/java/spring/Spring%20Boot%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91.html"}],["meta",{"property":"og:site_name","content":"HB技术栈"}],["meta",{"property":"og:title","content":"Spring Boot源码编译"}],["meta",{"property":"og:description","content":"Spring Boot源码编译 Spring Boot源码编译 fork spring boot[可选] 我fork一个Spring boot到自己的github上，主要是为了把阅读源码时添加的一些注释push上去，所以这一步是可选的。 clone spring boot 1、把Spring boot源码克隆下来 官方地址是https://github..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-03-22T17:33:14.000Z"}],["meta",{"property":"article:tag","content":"源码"}],["meta",{"property":"article:tag","content":"Spring"}],["meta",{"property":"article:published_time","content":"2019-01-09T13:31:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-03-22T17:33:14.000Z"}]]},"git":{"createdTime":1679384580000,"updatedTime":1679506394000,"contributors":[{"name":"donghaibin","username":"donghaibin","email":"xx158@qq.com","commits":1,"url":"https://github.com/donghaibin"},{"name":"dhb","username":"dhb","email":"xx158@qq.com","commits":1,"url":"https://github.com/dhb"}]},"readingTime":{"minutes":1.18,"words":353},"excerpt":"\\n<p>Spring Boot源码编译</p>\\n<h1>fork spring boot[可选]</h1>\\n<p>我fork一个Spring boot到自己的github上，主要是为了把阅读源码时添加的一些注释push上去，所以这一步是可选的。</p>\\n<h1>clone spring boot</h1>\\n<p>1、把Spring boot源码克隆下来</p>\\n<div class=\\"language-sh line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"sh\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-sh\\"><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">git</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> clone</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> https://github.com/DHBin/spring-boot.git</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{o as comp,d as data};
